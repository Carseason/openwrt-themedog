var ee=Object.defineProperty,te=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var V=(e,s,o)=>s in e?ee(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,E=(e,s)=>{for(var o in s||(s={}))ne.call(s,o)&&V(e,o,s[o]);if(G)for(var o of G(s))oe.call(s,o)&&V(e,o,s[o]);return e},H=(e,s)=>te(e,se(s));import{d as I,o as r,c as _,a as t,r as le,b as g,e as P,w as R,t as m,p as A,f as T,g as j,h as b,F as w,i as ae,v as ce,n as F,j as N,k as ie,l as re,u as C,m as ue}from"./vendor.js";const de=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};de();const x=window.L;var W;const _e=((W=window==null?void 0:window.ThemeDog)==null?void 0:W.BaseURL)||"";var Y;const ve=((Y=window==null?void 0:window.ThemeDog)==null?void 0:Y.HostName)||"",he=e=>_e+"/icons/"+e+".png",me=()=>ve,pe=()=>new Promise((e,s)=>{if(!x){s([]);return}x.require("ui").then(function(o){if(o.menu){window.onbeforeunload=n=>{o.menu.flushCache()};const l=(n,a,p)=>{let v=[],d=(p||0)+1,c=o.menu.getChildren(n);if(c.length==0||d>2)return[];for(let u=0;u<c.length;u++){let y={title:window._(c[u].title),name:c[u].name,href:window.L.url(a,c[u].name),level:d,paths:[],isActive:window.L.env.dispatchpath[d]==c[u].name,children:[]};y.paths.push(n.name,c[u].name),y.children=l(c[u],a+"/"+c[u].name,d),v.push(y)}return v};o.menu.load().then(function(){let n=o.menu.getChildren();for(let a=0;a<n.length;a++)if(n[a].order&&n[a].order,x.env.requestpath.length?n[a].name==x.env.requestpath[0]:a==0){const v=l(n[a],n[a].name,0);e(v)}})}else e([])})}),fe=()=>x.rpc.declare({object:"system",method:"board",expect:{}}),ge=()=>x.rpc.declare({object:"system",method:"info",expect:{memory:{}}}),ye=()=>new Promise((e,s)=>{x.rpc.declare({object:"luci",method:"getLocaltime"})().then(l=>{e(l.result||0)}).catch(l=>{s(l)})}),we=()=>{window.L.network.getDevices().then(e=>{for(let s=0;s<e.length;s++)if(e[s].getCarrier())return!0;return!1})},ke=()=>new Promise((e,s)=>{try{window.L.network.getWANNetworks().then(o=>{for(let l=0;l<o.length;l++){const a=o[l].isUp();if(a){e(a);return}}e(!1)})}catch(o){s(o)}}),$e=()=>window.L.rpc.declare({object:"system",method:"reboot"}),Ce=()=>window.L.network.getHostHints();var be=Object.freeze(Object.defineProperty({__proto__:null,getIconBasePath:he,getLOGO:me,getNavMenus:pe,getSystemInfoBoard:fe,getSystemInfoMemory:ge,getSystemInfoLocaltime:ye,getNetworkDevices:we,getNetworksIsUp:ke,reboot:$e,getNetworkHostHints:Ce},Symbol.toStringTag,{value:"Module"})),$=E({},be);var S=(e,s)=>{const o=e.__vccOpts||e;for(const[l,n]of s)o[l]=n;return o};const Fe={class:"themedog-action dialog-enter-active"},xe={class:"themedog-action_container"},Ie=I({props:{Close:{type:Function,required:!0}},setup(e){return(s,o)=>(r(),_("div",Fe,[t("div",{class:"themedog-action_bg",onClick:o[0]||(o[0]=l=>e.Close())}),t("div",xe,[le(s.$slots,"default",{},void 0,!0)])]))}});var K=S(Ie,[["__scopeId","data-v-7d692504"]]);const D=e=>(A("data-v-67a50998"),e=e(),T(),e),Se=D(()=>t("div",{class:"action_key"},"kernel:",-1)),De={class:"action_value"},Le=D(()=>t("div",{class:"action_key"},"hostname:",-1)),Ee={class:"action_value"},Ne=D(()=>t("div",{class:"action_key"},"system:",-1)),Me={class:"action_value"},Be=D(()=>t("div",{class:"action_key"},"model:",-1)),Oe={class:"action_value"},Ae=D(()=>t("div",{class:"action_key"},"board_name:",-1)),Te={class:"action_value"},qe=D(()=>t("div",{class:"action_key"},"release:",-1)),He={class:"action_value"},ze=I({props:{Close:{type:Function,required:!0}},setup(e){const s=g();return(()=>{$.getSystemInfoBoard()().then(n=>{console.log(n),n&&(s.value=n)})})(),(l,n)=>(r(),P(K,{Close:e.Close},{default:R(()=>{var a,p,v,d,c,u,y;return[t("li",null,[Se,t("div",De,m((a=s.value)==null?void 0:a.kernel),1)]),t("li",null,[Le,t("div",Ee,m((p=s.value)==null?void 0:p.hostname),1)]),t("li",null,[Ne,t("div",Me,m((v=s.value)==null?void 0:v.system),1)]),t("li",null,[Be,t("div",Oe,m((d=s.value)==null?void 0:d.model),1)]),t("li",null,[Ae,t("div",Te,m((c=s.value)==null?void 0:c.board_name),1)]),t("li",null,[qe,t("div",He,m((y=(u=s.value)==null?void 0:u.release)==null?void 0:y.description),1)])]}),_:1},8,["Close"]))}});var Pe=S(ze,[["__scopeId","data-v-67a50998"]]),je=e=>{const s=document.createElement("div");document.body.appendChild(s);const o=j(Pe,H(E({},e),{Close:()=>{l()}}));o.mount(s);const l=()=>{o.unmount(),s.remove()};return{Close:l}};const Ue={class:"action_key"},Ge={class:"action_value"},Ve=I({props:{Close:{type:Function,required:!0}},setup(e){const s=g();return(()=>{$.getNetworkHostHints().then(l=>{l.hosts&&(console.log(l.hosts),s.value=l.hosts)})})(),(l,n)=>(r(),P(K,{Close:e.Close},{default:R(()=>[(r(!0),_(w,null,b(s.value,(a,p,v)=>(r(),_("li",null,[t("div",Ue,m(p),1),t("div",Ge,m(a),1)]))),256))]),_:1},8,["Close"]))}});var We=S(Ve,[["__scopeId","data-v-1966e08f"]]),Ye=e=>{const s=document.createElement("div");document.body.appendChild(s);const o=j(We,H(E({},e),{Close:()=>{l()}}));o.mount(s);const l=()=>{o.unmount(),s.remove()};return{Close:l}};const U=e=>(A("data-v-ed420850"),e=e(),T(),e),Re={class:"themedog-iframe_header"},Ke={class:"btns"},Je=U(()=>t("svg",{t:"1646852632231",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2159",width:"128",height:"128"},[t("path",{d:"M515.1 932C286 932 99.5 745.6 99.5 516.4c0-16.5 13.4-29.9 29.9-29.9s29.9 13.4 29.9 29.9c0 196.2 159.6 355.8 355.8 355.8 118.4 0 228.7-58.6 295-156.9 9.3-13.7 27.9-17.3 41.6-8.1 13.7 9.3 17.3 27.9 8.1 41.6C782.3 863.6 653.4 932 515.1 932zM900.9 546.3c-16.5 0-29.9-13.4-29.9-29.9 0-196.2-159.6-355.8-355.8-355.8-114 0-221.9 55.2-288.7 147.8-9.7 13.4-28.3 16.5-41.8 6.7-13.4-9.7-16.4-28.4-6.7-41.8 78-108 204-172.6 337.1-172.6 229.2 0 415.7 186.5 415.7 415.7 0 16.5-13.4 29.9-29.9 29.9z",fill:"#666666","p-id":"2160"}),t("path",{d:"M53 636c-5 0-10.1-1.3-14.7-3.9-14.4-8.2-19.4-26.4-11.3-40.8l69.2-121.9c4.5-7.9 12.4-13.4 21.4-14.8 9-1.5 18.2 1.3 24.9 7.5l108.3 99.2c12.2 11.2 13 30.1 1.8 42.3-11.2 12.2-30.1 13-42.3 1.8l-80.6-73.9L79 620.8c-5.5 9.7-15.6 15.2-26 15.2zM904.4 579.5c-7.4 0-14.6-2.7-20.1-7.8l-104.1-94.6c-12.2-11.1-13.1-30.1-2-42.3 11.1-12.2 30-13.1 42.3-2l76.3 69.3 47.4-84.2c8.1-14.4 26.3-19.6 40.8-11.4 14.4 8.1 19.5 26.4 11.4 40.8l-65.8 116.9c-4.5 8-12.3 13.4-21.3 14.9-1.7 0.3-3.3 0.4-4.9 0.4z",fill:"#666666","p-id":"2161"})],-1)),Qe=[Je],Xe=U(()=>t("svg",{t:"1646853987071",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3832",width:"128",height:"128"},[t("path",{d:"M864 448l-768 0C78.08 448 64 462.08 64 480 64 497.92 78.08 512 96 512l768 0C881.92 512 896 497.92 896 480 896 462.08 881.92 448 864 448z","p-id":"3833"})],-1)),Ze=[Xe],et=U(()=>t("svg",{t:"1646854000338",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3981",width:"128",height:"128"},[t("path",{d:"M557.312 513.248l265.28-263.904c12.544-12.48 12.608-32.704 0.128-45.248-12.512-12.576-32.704-12.608-45.248-0.128l-265.344 263.936-263.04-263.84C236.64 191.584 216.384 191.52 203.84 204 191.328 216.48 191.296 236.736 203.776 249.28l262.976 263.776L201.6 776.8c-12.544 12.48-12.608 32.704-0.128 45.248 6.24 6.272 14.464 9.44 22.688 9.44 8.16 0 16.32-3.104 22.56-9.312l265.216-263.808 265.44 266.24c6.24 6.272 14.432 9.408 22.656 9.408 8.192 0 16.352-3.136 22.592-9.344 12.512-12.48 12.544-32.704 0.064-45.248L557.312 513.248z","p-id":"3982"})],-1)),tt=[et],st={class:"themedog-iframe_body"},nt=["src","task"],ot=I({props:{task:{type:Object,required:!0},i:{type:Number,required:!0},ontask:{type:String,required:!0},onHiddenTask:{type:Function,required:!0},onClearTask:{type:Function,required:!0},onOpenTask:{type:Function,required:!0}},setup(e){const s=e,o=g(),l=g(!0),n=g(0),a=v=>{if(s.task.href=="/cgi-bin/luci/admin/store"&&o.value){const d=o.value;d.contentWindow&&(d.contentWindow.onclick=c=>{p(c)})}},p=v=>{var d,c;if(v.target){const u=v.target;if(u.tagName=="A"&&u.className=="app-btn cbi-button cbi-button-apply"&&u.textContent=="\u6253\u5F00"){const y=v.composedPath();let L="",B="";const q=u.getAttribute("href")||"";if(y.length>2){const O=y[2];B=((d=O.querySelector(".app-title"))==null?void 0:d.getAttribute("title"))||"",L=((c=O.querySelector("span.app-name"))==null?void 0:c.textContent)||""}s.onOpenTask({title:L,name:B,href:q,paths:[],level:0,isActive:!1,children:[]}),v.preventDefault()}}};return(v,d)=>ae((r(),_("div",{class:F(["themedog-iframe",{"dialog-enter-active":l.value}])},[(r(),_("div",{class:"themedog-iframe_main",key:n.value},[t("div",Re,[t("span",null,m(e.task.title),1),t("div",Ke,[t("button",{class:"btn-refresh",onClick:d[0]||(d[0]=c=>n.value++)},Qe),t("button",{class:"btn-full",onClick:d[1]||(d[1]=c=>e.onHiddenTask(e.i))},Ze),t("button",{class:"btn-close",onClick:d[2]||(d[2]=c=>e.onClearTask(e.i))},tt)])]),t("div",st,[t("iframe",{class:"themedog-iframe_container",allowfullscreen:"true",mozallowfullscreen:"mozallowfullscreen",msallowfullscreen:"msallowfullscreen",oallowfullscreen:"oallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",src:e.task.href,task:e.task.href=="/cgi-bin/luci/admin/store",onLoad:a,ref_key:"el",ref:o},null,40,nt)])]))],2)),[[ce,e.task.href==e.ontask]])}});var lt=S(ot,[["__scopeId","data-v-ed420850"]]);const at=e=>{if(e)try{var s=new Date(Number(e)*1e3),o=s.getHours(),l=s.getMinutes();let n=s.getSeconds();return o<10&&(o=`0${o}`),l<10&&(l=`0${l}`),n<10&&(n=`0${n}`),`${o}:${l} ${n}`}catch(n){}return""},ct=e=>{if(e)try{var s=new Date(Number(e)*1e3),o=s.getFullYear(),l=s.getMonth()+1,n=s.getDate();return o+"\u5E74"+l+"\u6708"+n+"\u65E5 "}catch(a){}return""};var it=Object.freeze(Object.defineProperty({__proto__:null,dateForm:at,dateYearDayForm:ct},Symbol.toStringTag,{value:"Module"})),z=E({},it);const J=e=>(A("data-v-f8c2c754"),e=e(),T(),e),rt={class:"total"},ut={key:0,class:"network"},dt=J(()=>t("span",null,"\u7F51\u7EDC",-1)),_t={class:"memory"},vt=J(()=>t("span",null,"\u5185\u5B58",-1)),ht={class:"progress"},mt={class:"date"},pt=I({setup(e){const s=g(""),o=g(""),l=g(!1),n=g(),a=()=>{p(),v(),d(),setInterval(()=>{v(),d()},5e3)},p=()=>{$.getSystemInfoLocaltime().then(c=>{if(c){o.value=z.dateForm(`${c}`),s.value=z.dateYearDayForm(`${c}`);let u=c;setInterval(()=>{o.value=z.dateForm(`${u++}`)},1e3)}})},v=()=>{$.getSystemInfoMemory()().then(u=>{n.value=u})},d=()=>{$.getNetworksIsUp().then(c=>{l.value=c})};return a(),(c,u)=>(r(),_("div",rt,[l.value!=null?(r(),_("div",ut,[t("span",null,m(l.value?"\u5DF2":"\u672A")+"\u914D\u7F6E",1),dt])):N("",!0),n.value!=null?(r(),_(w,{key:1},[t("div",_t,[t("span",null,m((100-n.value.available/n.value.total*100).toFixed(2))+"%",1),vt]),t("div",ht,[t("em",{style:ie({height:`${(100-n.value.available/n.value.total*100).toFixed(2)}%`})},null,4)])],64)):N("",!0),t("div",mt,[t("span",null,m(o.value),1),t("span",null,m(s.value),1)])]))}});var ft=S(pt,[["__scopeId","data-v-f8c2c754"]]);const M=e=>(A("data-v-460d87a8"),e=e(),T(),e),gt={class:"themedog-main"},yt=M(()=>t("div",{class:"themedog-header"},null,-1)),wt={class:"themedog-body"},kt={class:"themedog-container"},$t={class:"themedog-container_nav"},Ct={class:"nav-list_header"},bt={class:"nav-list_children"},Ft=["onClick"],xt={class:"nav-list_item-icon"},It=["src"],St={class:"nav-list_item-text"},Dt={class:"nav-list_header"},Lt={class:"nav-list_children"},Et=["onClick"],Nt={class:"nav-list_item-icon"},Mt=["src"],Bt={class:"nav-list_item-text"},Ot=["onClick"],At={class:"nav-list_item-icon"},Tt=["src"],qt={class:"nav-list_item-text"},Ht={class:"system-tool_container"},zt={class:"system-tool_container-nav"},Pt=["onClick"],jt={class:"system-tool_container-btns"},Ut=M(()=>t("a",{href:"/cgi-bin/luci/admin/logout"},"\u6CE8\u9500\u767B\u5F55",-1)),Gt={class:"themedog-footer"},Vt=M(()=>t("em",null,[t("i")],-1)),Wt={class:"logo"},Yt={class:"tasks"},Rt=["title","onClick"],Kt=M(()=>t("i",null,null,-1)),Jt=M(()=>t("div",{class:"auto"},null,-1)),Qt=I({setup(e){const s=g($.getLOGO()),o=g([]),l=g(!1),n=g([]),a=g(""),p=g([{title:"\u7CFB\u7EDF\u4FE1\u606F",func:()=>{X()}},{title:"\u7F51\u7EDC\u53D1\u73B0",func:()=>{Z()}}]),v=re(()=>{let h=[];for(let f=0;f<o.value.length;f++){const i=o.value[f];switch(i.name){case"quickstart":case"network_guide":case"store":h.push(i);break}}return{title:"\u5FEB\u901F\u4F7F\u7528",name:"use",href:"",paths:[],level:0,isActive:!1,children:h}}),d=h=>{switch(h.name){case"logout":return!0;case"quickstart":case"network_guide":case"store":return!0}return!1},c=$.getIconBasePath,u=h=>{if(h.target){const f=h.target;f.src=c("app-icon")}},y=h=>{L(h)},L=h=>{for(let f=0;f<n.value.length;f++)if(h.href==n.value[f].href){a.value==h.href?a.value="":a.value=h.href;return}n.value.push(h),a.value=h.href},B=h=>{n.value[h],n.value.splice(h,1),a.value=""},q=h=>{a.value=""},O=()=>{$.getNavMenus().then(h=>{o.value=h})},Q=()=>{if(!confirm("\u662F\u5426\u91CD\u542F\u8BBE\u5907?"))return;$.reboot()().then(()=>{})},X=()=>{je({})},Z=()=>{Ye({})};return O(),(h,f)=>(r(),_(w,null,[t("div",gt,[yt,t("div",wt,[t("div",kt,[t("div",$t,[C(v).children.length>0?(r(),_("ul",{key:0,class:F(["nav-list",C(v).name])},[t("div",Ct,m(C(v).title),1),t("div",bt,[(r(!0),_(w,null,b(C(v).children,i=>(r(),_("a",{class:F(["nav-list_item",i.name]),onClick:k=>y(i)},[t("div",xt,[t("img",{src:C(c)(i.name),alt:"\u56FE\u6807\u8D70\u4E22\u4E86\uFF5E",onError:u},null,40,It)]),t("div",St,m(i.title),1)],10,Ft))),256))])],2)):N("",!0),(r(!0),_(w,null,b(o.value,i=>(r(),_(w,null,[d(i)?N("",!0):(r(),_("ul",{key:0,class:F(["nav-list",i.name])},[t("div",Dt,m(i.title),1),t("div",Lt,[i.children!=null&&i.children.length>0?(r(!0),_(w,{key:0},b(i.children,k=>(r(),_("a",{class:F(["nav-list_item",k.name]),onClick:ts=>y(k)},[t("div",Nt,[t("img",{src:C(c)(k.name),alt:"\u56FE\u6807\u8D70\u4E22\u4E86\uFF5E",onError:u},null,40,Mt)]),t("div",Bt,m(k.title),1)],10,Et))),256)):(r(),_("a",{key:1,class:F(["nav-list_item",i.name]),onClick:k=>y(i)},[t("div",At,[t("img",{src:C(c)(i.name),alt:"\u56FE\u6807\u8D70\u4E22\u4E86\uFF5E",onError:u},null,40,Tt)]),t("div",qt,m(i.title),1)],10,Ot))])],2))],64))),256))])])]),l.value?(r(),_("div",{key:0,class:"system-tool",onClick:f[1]||(f[1]=i=>l.value=!1)},[t("div",Ht,[t("div",zt,[(r(!0),_(w,null,b(p.value,i=>(r(),_("a",{onClick:i.func},m(i.title),9,Pt))),256))]),t("div",jt,[t("a",{onClick:f[0]||(f[0]=i=>Q())},"\u91CD\u542F\u8BBE\u5907"),Ut])])])):N("",!0),t("div",Gt,[t("div",{class:"system",onClick:f[2]||(f[2]=i=>l.value=!l.value)},[Vt,t("div",Wt,m(s.value),1)]),t("div",Yt,[(r(!0),_(w,null,b(n.value,i=>(r(),_("a",{class:F({on:i.href==a.value}),title:i.title,onClick:k=>y(i)},[Kt,t("span",null,m(i.title),1)],10,Rt))),256))]),Jt,ue(ft)])]),(r(!0),_(w,null,b(n.value,(i,k)=>(r(),P(lt,{task:i,i:k,onHiddenTask:q,onClearTask:B,onOpenTask:L,ontask:a.value},null,8,["task","i","ontask"]))),256))],64))}});var Xt=S(Qt,[["__scopeId","data-v-460d87a8"]]);const Zt=()=>{const e=document.createElement("div");document.body.appendChild(e),e.id="themedog",e.className="no-scrollbar",j(Xt).mount(e)},es=()=>{setTimeout(()=>{if(window.L){const e=window.L;e.require("view").then(function(s){new s().load()}),e.Poll.stop()}},1e3)};if(window.self===window.top&&window.location.pathname=="/cgi-bin/luci/")Zt(),es();else{const e=document.querySelector("div#maincontent");e&&(e.style.display="")}
